services:
  # AdGuard Home - Network-wide ad blocking and DNS
  adguard:
    image: adguard/adguardhome:latest
    container_name: adguardhome
    restart: unless-stopped
    ports:
      - "53:53/tcp"
      - "53:53/udp"
      - "3000:3000/tcp"
      - "8080:80/tcp"
      - "4443:443/tcp"
      - "853:853/tcp"
    volumes:
      - ./adguard/work:/opt/adguardhome/work
      - ./adguard/conf:/opt/adguardhome/conf
    environment:
      - TZ=UTC

  # Nginx Proxy Manager - Reverse proxy with web UI
  nginx-proxy-manager:
    image: jc21/nginx-proxy-manager:latest
    container_name: nginx-proxy-manager
    restart: unless-stopped
    ports:
      - "80:80"
      - "443:443"
      - "81:81"
    volumes:
      - ./proxy/data:/data
      - ./proxy/letsencrypt:/etc/letsencrypt
    environment:
      - TZ=UTC

  # Portainer - Docker management web UI
  portainer:
    image: portainer/portainer-ce:latest
    container_name: portainer
    restart: unless-stopped
    ports:
      - "9000:9000"
      - "9443:9443"
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - ./portainer/data:/data
    environment:
      - TZ=UTC

  # Vaultwarden - Lightweight Bitwarden-compatible password manager
  vaultwarden:
    image: vaultwarden/server:latest
    container_name: vaultwarden
    restart: unless-stopped
    ports:
      - "8090:80"
    volumes:
      - ./vaultwarden/data:/data
    environment:
      - DOMAIN=https://vault.example.com
      - SIGNUPS_ALLOWED=false
      - WEBSOCKET_ENABLED=true
      - TZ=UTC
      - ADMIN_TOKEN=your-admin-token-here

  # Cloudflare Tunnel - Exposes services to the internet via Cloudflare's network
  cloudflared:
    image: cloudflare/cloudflared:latest
    container_name: cloudflared
    restart: unless-stopped
    command: tunnel --no-autoupdate run
    environment:
      - TUNNEL_TOKEN=your-cloudflare-tunnel-token-here

  # WordPress Database
  wordpress-db:
    image: mysql:8.0
    container_name: wordpress-db
    restart: unless-stopped
    volumes:
      - ./wordpress/db:/var/lib/mysql
    environment:
      - MYSQL_ROOT_PASSWORD=rootpass
      - MYSQL_DATABASE=wordpress
      - MYSQL_USER=wp
      - MYSQL_PASSWORD=wppass123
      - TZ=UTC

  # WordPress - Self-hosted website/blog
  wordpress:
    image: wordpress:latest
    container_name: wordpress
    restart: unless-stopped
    depends_on:
      - wordpress-db
    ports:
      - "8888:80"
    volumes:
      - ./wordpress/html:/var/www/html
    environment:
      - WORDPRESS_DB_HOST=wordpress-db
      - WORDPRESS_DB_USER=wp
      - WORDPRESS_DB_PASSWORD=wppass123
      - WORDPRESS_DB_NAME=wordpress
      - WORDPRESS_CONFIG_EXTRA=
          define('WP_HOME','http://192.168.10.50:8888');
          define('WP_SITEURL','http://192.168.10.50:8888');
      - TZ=UTC

# You can add more services here as needed:
# - Uptime Kuma (monitoring)
# - Gitea (self-hosted Git)
# - Home Assistant (smart home)
# - Grafana + Prometheus (observability)
